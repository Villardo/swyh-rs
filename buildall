#!/usr/bin/sh
echo "Build all"

while getopts u flag
do
    if [[ "${flag}" == "u" ]]; then
        cargo update 
        cargo upgrade  --verbose
fi
done
#cargo clippy --all --fix --allow-dirty --bin swyh-rs-cli -- -W clippy::all -W clippy::pedantic
#cargo clippy --all --fix --allow-dirty --bin swyh-rs -- -W clippy::all -W clippy::pedantic
cargo fmt --all
cargo build --bin swyh-rs-cli --features cli
cargo build --bin swyh-rs --features gui
cargo build --bin swyh-rs-cli --features cli --release 
cargo build --bin swyh-rs --features gui --release 
#cargo build --target=i686-pc-windows-msvc && cargo build --target=i686-pc-windows-msvc --release
